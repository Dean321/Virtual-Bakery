<!DOCTYPE html>
<html>
  <head>
    <title>Bakery Shopping App</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Homemade+Apple&family=Send+Flowers&display=swap" rel="stylesheet">
  </head>
  <body  onload="start();">
    <canvas width="1200" height="800" id="canvas"></canvas>
    <script>
        var background = new Image();
        background.src = "./images/background.jpg";
        
        var cart = new Image();
        cart.src = "./images/cart.png";

        var data = [
    {
      "url":"./images/bearClaw.png",
        "name":"Bear Claw",
        "price":3.50,
        "obj":"",
        "x":100,
        "y":100,
        "w":100,
        "h":100,
        "r1x":90,
        "r1y":200,
        "r1w":140,
        "r1h":30,
        "r2x":115,
        "r2y":230,
        "r2w":70,
        "r2h":30,
        "t1x":105,
        "t1y":225,
        "t2x":120,
        "t2y":255
    },
    {
        "url":"./images/peacanBraid.png",
        "name":"Peacan Braid",
        "price":6.50,
        "obj":"",
        "x":350,
        "y":100,
        "w":100,
        "h":100,
        "r1x":320,
        "r1y":200,
        "r1w":160,
        "r1h":30,
        "r2x":365,
        "r2y":230,
        "r2w":70,
        "r2h":30,
        "t1x":325,
        "t1y":223,
        "t2x":340,
        "t2y":255
    },
    {
        "url":"./images/cherryPastry.png",
        "name":"Cherry Pastry",
        "price":4.25,
        "obj":"",
        "x":600,
        "y":100,
        "w":130,
        "h":100,
        "r1x":580,
        "r1y":200,
        "r1w":170,
        "r1h":30,
        "r2x":615,
        "r2y":230,
        "r2w":80,
        "r2h":30,
        "t1x":590,
        "t1y":223,
        "t2x":620,
        "t2y":255
    },
    {
        "url":"./images/berryScone.png",
        "name":"Berry Scone",
        "price":4.15,
        "obj":"",
        "x":850,
        "y":100,
        "w":130,
        "h":100,
        "r1x":830,
        "r1y":200,
        "r1w":150,
        "r1h":30,
        "r2x":865,
        "r2y":230,
        "r2w":70,
        "r2h":30,
        "t1x":835,
        "t1y":223,
        "t2x":870,
        "t2y":255
    },
    {
        "url":"./images/chessePastry.png",
        "name":"Chesse Pastry",
        "price":3.45,
        "obj":"",
        "x":100,
        "y":300,
        "w":130,
        "h":100,
        "r1x":90,
        "r1y":400,
        "r1w":170,
        "r1h":30,
        "r2x":115,
        "r2y":430,
        "r2w":70,
        "r2h":30,
        "t1x":105,
        "t1y":423,
        "t2x":120,
        "t2y":455
    },
    {
        "url":"./images/pastryRing.png",
        "name":"Pastry Ring",
        "price":8.50,
        "obj":"",
        "x":350,
        "y":300,
        "w":100,
        "h":100,
        "r1x":320,
        "r1y":400,
        "r1w":140,
        "r1h":30,
        "r2x":365,
        "r2y":430,
        "r2w":70,
        "r2h":30,
        "t1x":325,
        "t1y":423,
        "t2x":370,
        "t2y":455
    },
    {
        "url":"./images/frenchCroissant.png",
        "name":"French Croissant",
        "price":3.95,
        "obj":"",
        "x":600,
        "y":300,
        "w":130,
        "h":100,
        "r1x":580,
        "r1y":400,
        "r1w":200,
        "r1h":30,
        "r2x":615,
        "r2y":430,
        "r2w":80,
        "r2h":30,
        "t1x":590,
        "t1y":423,
        "t2x":620,
        "t2y":455
    },
    {
        "url":"./images/pumkinMuffin.png",
        "name":"Pumkin Muffin",
        "price":5.45,
        "obj":"",
        "x":850,
        "y":300,
        "w":130,
        "h":100,
        "r1x":830,
        "r1y":400,
        "r1w":170,
        "r1h":30,
        "r2x":865,
        "r2y":430,
        "r2w":80,
        "r2h":30,
        "t1x":835,
        "t1y":423,
        "t2x":870,
        "t2y":455
    },
    {
        "url":"./images/candyCookie.png",
        "name":"Candy Cookie",
        "price":3.00,
        "obj":"",
        "x":100,
        "y":500,
        "w":130,
        "h":100,
        "r1x":90,
        "r1y":600,
        "r1w":160,
        "r1h":30,
        "r2x":130,
        "r2y":630,
        "r2w":50,
        "r2h":30,
        "t1x":100,
        "t1y":625,
        "t2x":140,
        "t2y":655
    },
    {
        "url":"./images/tunaSalad.png",
        "name":"Tuna Salad",
        "price":7.69,
        "obj":"",
        "x":350,
        "y":500,
        "w":100,
        "h":100,
        "r1x":320,
        "r1y":600,
        "r1w":140,
        "r1h":30,
        "r2x":365,
        "r2y":630,
        "r2w":70,
        "r2h":30,
        "t1x":325,
        "t1y":623,
        "t2x":370,
        "t2y":655
    },
    {
        "url":"./images/turkeySandwich.png",
        "name":"Turkey Sandwich",
        "price":8.79,
        "obj":"",
        "x":600,
        "y":500,
        "w":130,
        "h":100,
        "r1x":580,
        "r1y":600,
        "r1w":195,
        "r1h":30,
        "r2x":615,
        "r2y":630,
        "r2w":75,
        "r2h":30,
        "t1x":590,
        "t1y":623,
        "t2x":620,
        "t2y":655
    },
    {
        "url":"./images/chickenPanini.png",
        "name":"Chicken Panini",
        "price":8.59,
        "obj":"",
        "x":850,
        "y":500,
        "w":130,
        "h":100,
        "r1x":830,
        "r1y":600,
        "r1w":170,
        "r1h":30,
        "r2x":865,
        "r2y":630,
        "r2w":80,
        "r2h":30,
        "t1x":835,
        "t1y":623,
        "t2x":870,
        "t2y":655
    }
];
        for(var i=0; i<data.length; i++){
          var img = new Image();
          img.src=data[i].url;
          data[i].obj = img;
        }

        var money = 10.00, count = 0;

        document.addEventListener("click", keyDownHandler);
        function keyDownHandler(event) {
          for(var i = 0; i < data.length; i++){
            var o = data[i];
            if((X >= o.x) && (X <= (o.x + o.w) ) && (Y >= o.y) && (Y <= (o.y + o.h))){
              if(money >= o.price){
                money -= o.price;
                count += 1;
                break;
              }
              else{
                alert("No enough cash!!!")
              }
            }
          }
          if((X>=(canvas.width/2-100)) && (X<=(canvas.width/2-100)+120) && (Y>=(canvas.height-125)) && (Y<=(canvas.height-125)+100)){
            alert("Collect your change of "+money+"$\nThank you for shopping with us.");
            money = 10;
            count = 0;
          }
        }

        var X,Y;
        document.addEventListener('mousemove', e => {
          X = e.offsetX;
          Y = e.offsetY;
        });
        
        function start() {
            canvas = document.getElementById('canvas');
            ctx = canvas.getContext("2d");
            setInterval(gameLoop, 50);
        }
        
        function gameLoop() {
          ctx.drawImage(background, 0, 0, canvas.width, canvas.height);
          ctx.drawImage(cart, canvas.width/2-100, canvas.height-125, 120, 100);
          ctx.fillStyle = "#DFDFDE";
          ctx.font = 'bold 28px Send Flowers';
          ctx.fillText(count, 560, 720);
          ctx.font = 'bold 22px Homemade Apple';
          ctx.fillStyle = "#3A3845";
          ctx.fillText("Checkout", 520, 785);

          ctx.font = 'bold 52px Homemade Apple';
          ctx.fillStyle = "#3A3845";
          ctx.fillText("Virtual Bakery", canvas.width/2-230, 50);

          ctx.font = 'bold 42px Homemade Apple';
          ctx.fillStyle = "#3A3845";
          ctx.fillText(money+" $", canvas.width-130, 50);
          
          for(var j=0; j<data.length; j++){
            var i = data[j];
            ctx.drawImage(i.obj, i.x, i.y, i.w, i.h);
            ctx.fillStyle = "#DFDFDE";
            ctx.fillRect(i.r1x, i.r1y, i.r1w, i.r1h);
            ctx.fillStyle = "#3A3845";
            ctx.font = 'bold 28px Send Flowers';
            ctx.fillText(""+i.name, i.t1x, i.t1y);
            ctx.fillStyle = "#DFDFDE";
            ctx.fillRect(i.r2x, i.r2y, i.r2w, i.r2h);
            ctx.fillStyle = "#3A3845";
            ctx.font = 'bold 28px Send Flowers';
            ctx.fillText(""+i.price+"$", i.t2x, i.t2y);

          }
          ctx.font = 'bold 12px Homemade Apple';
          ctx.fillStyle = "#3A3845";
          ctx.fillText("©️Parvathi Saxena", canvas.width-120, canvas.height-10);
          
        }
      
    </script>
  </body>
</html>

